备份和恢复配置
-------------------------------------------------------------------------

* 备份配置

    ```
    cd src/ClusterBootstrap
    ./deploy.py backup [backup_file_prefix] [password]
    # 一般执行
    ./deploy.py backup  /backUP_path/release_xxXconf # 将在backUP_path目录下生成release_xxXconf.tar.gz
    ```
    + 备份配置列表

        ```bash
            
        ./deploy/     
        ./deploy/ssl/ 
        ./deploy/ssl/openssl-apiserver.cnf 
        ./deploy/ssl/ca/ 
        ./deploy/ssl/ca/ca-key.pem
        ./deploy/ssl/gencerts_ca.sh
        ./deploy/ssl/gencerts_aggregator.sh.orig
        ./deploy/ssl/openssl-etcd.cnf
        ./deploy/ssl/gencerts_kubelet.sh
        ./deploy/ssl/gencerts_aggregator.sh
        ./deploy/ssl/kubelet/
        ./deploy/ssl/kubelet/apiserver-key.pem
        ./deploy/ssl/DO_NOT_WRITE
        ./deploy/ssl/gencerts_etcd.sh
        ./deploy/ssl/openssl-kubelet.cnf
        ./deploy/ssl/gencerts_master.sh
        ./deploy/etc/
        ./deploy/etc/hosts
        ./deploy/clusterID/
        ./deploy/clusterID/clusterID.yml
        ./deploy/config.yaml
        ./deploy/weave.yaml
        ./deploy/sshkey/
        ./deploy/sshkey/admin.conf
        ./deploy/sshkey/id_rsa.pub
        ./deploy/sshkey/id_rsa
        ./deploy/sshkey/rootpasswd
        ./deploy/sshkey/root
        ./deploy/sshkey/rootuser
        ```

* 恢复配置

    ```
    # 将备份的配置 xxxxxxxx.tar.gz 拷贝到新的repo配置路径，一般为 src/ClusterBootstrap
    ./deploy.py restore [backup_file] [password]
    ```

* 使用备份配置文件

    + 恢复修改的配置
      
      当配置被修改需要撤回的时候，可以直接执行 `restore`命令
      `./deploy.py restore /backUP_path/release_xxXconf.tar.gz`
    
    + 使用备份配置部署平台

        1. 先同步[Apulis Platform](https://gitee.com/apulis/apulis_platform.git)

        2. 进入配置目录恢复配置
        ```
        cd ./apulis_platform/src/ClusterBootstrap
        ./deploy.py restore /backUP_path/release_xxXconf.tar.gz # 已备好的配置文件
        ```
        3. 参考平台[初始化配置](./平台部署之初始配置.md)步骤，执行平台部署，此时可以看到所需的平台配置都已被创建好

    